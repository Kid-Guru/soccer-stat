(this["webpackJsonpsoccer-stat"]=this["webpackJsonpsoccer-stat"]||[]).push([[0],{181:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(23),i=n.n(r),s=(n(91),n(92),n(32)),o=n.n(s),l=n(8),j=n(60),d=n(86),u="INITIALIZING_APP_SUCCESS",m="SET_COMPETITIONS",b="SET_TEAMS",h="SET_TEAM_CALENDAR",O="CLEAN_TEAM_CALENDAR",x="SET_COMPETITION_CALENDAR",p="CLEAN_COMPETITION_CALENDAR",f=n(77).create({baseURL:"https://api.football-data.org/v2/",headers:{"X-Auth-Token":"42423c99d523409aae62e30867c8bcdc"}}),T=function(e){return f.get("teams/".concat(e,"/matches")).then((function(e){return e.data}))},g=function(e,t,n){return f.get("teams/".concat(e,"/matches?dateFrom=").concat(t,"&dateTo=").concat(n)).then((function(e){return e.data}))},C=function(e,t,n){return f.get("competitions/".concat(e,"/matches?dateFrom=").concat(t,"&dateTo=").concat(n)).then((function(e){return e.data}))},v=function(e){var t=new Date(e);return{date:t.toLocaleDateString(),time:t.toLocaleTimeString()}},y=function(e){return null!==e.score.penalties.homeTeam?e.score.penalties:null!==e.score.extraTime.homeTeam?e.score.extraTime:null!==e.score.fullTime.homeTeam?e.score.fullTime:null!==e.score.halfTime.homeTeam?e.score.halfTime:{homeTeam:"--",awayTeam:"--"}},N=n(49),I=n.n(N),E=function(){return function(e){Promise.all([f.get("competitions/").then((function(e){return e.data})),f.get("teams/").then((function(e){return e.data}))]).then((function(t){var n=Object(d.a)(t,2),c=n[0],a=n[1],r=c.competitions.filter((function(e){return"TIER_ONE"===e.plan})).map((function(e){return I()(e,["id","name","area","numberOfAvailableSeasons","code","emblemUrl"])})),i=a.teams.map((function(e){return I()(e,["id","name","shortName","area","crestUrl","website"])}));e({type:m,payload:{competitions:r}}),e({type:b,payload:{teams:i}})})).then((function(){e({type:u})}))}},S=function(e,t){return{type:h,payload:{matches:e,currentTeamId:t}}},w=function(e,t){return{type:x,payload:{matches:e,currentCompetitionId:t}}},L=n(16),F=n(28),A=n(187),_=n(183),k=n(189),D=n(1),P=function(){return Object(D.jsx)(A.a,{bg:"light",variant:"light",children:Object(D.jsxs)(_.a,{children:[Object(D.jsx)(A.a.Brand,{as:"h1",className:"mr-auto",children:"SoccerStat App"}),Object(D.jsxs)(k.a,{variant:"pills",children:[Object(D.jsx)(k.a.Link,{as:F.b,to:"/competitions",children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"}),Object(D.jsx)(k.a.Link,{as:F.b,to:"/teams",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"})]})]})})},R=function(e){return e.app.competitions.map((function(e){return{id:e.id,title:e.name,subtitle:e.area.name}}))},M=function(e){return e.app.teams.map((function(e){return{id:e.id,title:e.name,subtitle:e.area.name}}))},z=function(e){return e.app.teamCalendar.status},B=function(e){return e.app.teamCalendar.list},U=function(e){var t=e.app.teamCalendar.currentTeamId;return e.app.teams.find((function(e){return e.id==t}))},G=function(e){return e.app.competitionCalendar.status},V=function(e){return e.app.competitionCalendar.list},X=function(e){var t=e.app.competitionCalendar.currentCompetitionId;return e.app.competitions.find((function(e){return e.id==t}))},q=n(84),J=n(190),H=n(185),Z=n(188),K=n(184),Q=n(46),W=n(6),Y=function(e){var t=e.getRedirectPath,n=Object(W.g)(),c=Object(Q.a)({initialValues:{term:""},validate:function(e){var n={};return t(e.term)||(n.term="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),n},onSubmit:function(e){n.push(t(e.term))}});return Object(D.jsx)(Z.a,{onSubmit:c.handleSubmit,children:Object(D.jsxs)(Z.a.Row,{className:"justify-content-end",children:[Object(D.jsxs)(q.a,{xs:"auto",children:[Object(D.jsx)(Z.a.Control,{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",name:"term",onChange:c.handleChange,value:c.values.term,isInvalid:!!c.errors.term}),Object(D.jsx)(Z.a.Control.Feedback,{tooltip:!0,type:"invalid",children:c.errors.term})]}),Object(D.jsx)(q.a,{xs:"auto",children:Object(D.jsx)(K.a,{variant:"success",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"})})]})})},$=function(e,t){return e.map((function(e){return Object(D.jsx)(q.a,{sm:6,md:4,lg:3,className:"mb-3",children:Object(D.jsx)(F.b,{to:t(e),className:"text-dark",children:Object(D.jsx)(J.a,{className:"text-center h-100",children:Object(D.jsxs)(J.a.Body,{children:[Object(D.jsx)(J.a.Title,{children:e.title}),Object(D.jsx)(J.a.Subtitle,{children:e.subtitle})]})})})})}))},ee=function(e){return Object(D.jsxs)(_.a,{children:[Object(D.jsx)(Y,{getRedirectPath:(t=e.getLink,n=e.listItems,function(e){var c=n.find((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));return c?t(c):null})}),Object(D.jsx)(H.a,{className:"my-4",children:$(e.listItems,e.getLink)})]});var t,n},te=Object(L.b)((function(e){return{listItems:R(e)}}))((function(e){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{className:"text-center py-4",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043b\u0438\u0433"}),Object(D.jsx)(ee,{listItems:e.listItems,getLink:function(e){return"/competitions/".concat(e.id)}})]})})),ne=Object(L.b)((function(e){return{listItems:M(e)}}))((function(e){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{className:"text-center py-4",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434"}),Object(D.jsx)(ee,{listItems:e.listItems,getLink:function(e){return"/teams/".concat(e.id)}})]})})),ce=n(186),ae=function(e){var t=e.list;return 0===t.length?Object(D.jsx)("h4",{className:"text-center",children:"\u041d\u0435\u0442 \u0438\u0433\u0440. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434."}):Object(D.jsxs)(ce.a,{bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(D.jsx)("th",{children:"\u0422\u0443\u0440\u043d\u0438\u0440"}),Object(D.jsx)("th",{children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),Object(D.jsx)("th",{children:"\u0421\u0447\u0435\u0442"}),Object(D.jsx)("th",{children:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c"})]})}),Object(D.jsx)("tbody",{children:t.map((function(e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:e.date}),Object(D.jsx)("td",{children:e.competition.name}),Object(D.jsx)("td",{children:e.rival.name}),Object(D.jsx)("td",{children:"".concat(e.score.homeTeam,":").concat(e.score.awayTeam)}),Object(D.jsx)("td",{children:e.winner.name})]},e.id)}))})]})},re=function(e){var t=e.dateFrom,n=void 0===t?"":t,c=e.dateTo,a=void 0===c?"":c,r=e.getRedirectPath,i=Object(W.g)(),s=Object(Q.a)({initialValues:{dateFrom:n,dateTo:a},onSubmit:function(e){i.push(r(e.dateFrom,e.dateTo))}});return Object(D.jsxs)(Z.a,{onSubmit:s.handleSubmit,children:[Object(D.jsxs)(Z.a.Group,{as:H.a,controlId:"dateFrom",className:"align-items-center",children:[Object(D.jsx)(Z.a.Label,{column:"sm",className:"align-middle",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),Object(D.jsx)(q.a,{sm:"8",children:Object(D.jsx)(Z.a.Control,{type:"date",placeholder:"Enter email",name:"dateFrom",onChange:s.handleChange,value:s.values.dateFrom,required:!0,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",size:"sm"})})]}),Object(D.jsxs)(Z.a.Group,{as:H.a,controlId:"dateTo",className:"align-items-center",children:[Object(D.jsx)(Z.a.Label,{column:"sm",children:"\u041a\u043e\u043d\u0435\u0446 \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),Object(D.jsx)(q.a,{sm:"8",children:Object(D.jsx)(Z.a.Control,{type:"date",placeholder:"Enter email",name:"dateTo",onChange:s.handleChange,value:s.values.dateTo,required:!0,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",size:"sm"})})]}),Object(D.jsx)(K.a,{variant:"success",type:"submit",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})]})},ie="/competitions",se="/teams",oe="/period",le={getTeamCalendar:function(e,t,n){return function(){var c=Object(j.a)(o.a.mark((function c(a){var r,i;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t||void 0!==n){c.next=6;break}return c.next=3,T(e);case 3:r=c.sent,c.next=9;break;case 6:return c.next=8,g(e,t,n);case 8:r=c.sent;case 9:i=r.matches.map((function(t){return Object(l.a)(Object(l.a)({id:t.id},v(t.utcDate)),{},{competition:{id:t.competition.id,name:t.competition.name},rival:e==t.awayTeam.id?t.homeTeam:t.awayTeam,score:y(t),winner:"HOME_TEAM"===t.winner?t.homeTeam:t.awayTeam})})),a(S(i,e));case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},cleanTeamCalendar:function(){return{type:O}}},je=Object(L.b)((function(e){return{status:z(e),list:B(e),currentTeam:U(e)}}),le)((function(e){var t=Object(W.h)(),n=t.id,a=t.dateFrom,r=t.dateTo;return Object(c.useEffect)((function(){return e.getTeamCalendar(n,a,r),function(){e.cleanTeamCalendar()}}),[n,a,r]),"fetching"===e.status?null:Object(D.jsxs)(_.a,{children:[Object(D.jsx)("h2",{className:"text-center py-4",children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0438\u0433\u0440"}),Object(D.jsxs)(H.a,{children:[Object(D.jsx)(q.a,{lg:"6",className:"mt-3",children:Object(D.jsx)(J.a,{className:"h-100",children:Object(D.jsx)(J.a.Body,{children:Object(D.jsxs)(H.a,{children:[Object(D.jsx)(q.a,{xs:"auto",children:Object(D.jsx)(J.a.Img,{src:e.currentTeam.crestUrl,style:{width:"100px"}})}),Object(D.jsxs)(q.a,{children:[Object(D.jsx)(J.a.Title,{children:e.currentTeam.name}),Object(D.jsx)(J.a.Subtitle,{children:e.currentTeam.area.name})]})]})})})}),Object(D.jsx)(q.a,{lg:"6",className:"mt-3",children:Object(D.jsx)(J.a,{className:"text-center className={'h-100'}",children:Object(D.jsxs)(J.a.Body,{children:[Object(D.jsx)(J.a.Title,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434"}),Object(D.jsx)(re,{dateFrom:a,dateTo:r,getRedirectPath:function(e,t){return"".concat(se,"/").concat(n).concat(oe,"/").concat(e,"/").concat(t)}})]})})})]}),Object(D.jsx)(H.a,{className:"mt-3",children:Object(D.jsx)(q.a,{children:Object(D.jsx)(ae,{list:e.list})})})]})})),de=function(e){var t=e.list;return 0===t.length?Object(D.jsx)("h4",{className:"text-center",children:"\u041d\u0435\u0442 \u0438\u0433\u0440. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434."}):Object(D.jsxs)(ce.a,{bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(D.jsx)("th",{children:"\u0425\u043e\u0437\u044f\u0435\u0432\u0430"}),Object(D.jsx)("th",{children:"\u0421\u0447\u0435\u0442"}),Object(D.jsx)("th",{children:"\u0413\u043e\u0441\u0442\u0438"}),Object(D.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})}),Object(D.jsx)("tbody",{children:t.map((function(e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:e.date}),Object(D.jsx)("td",{children:e.homeTeam.name}),Object(D.jsx)("td",{children:"".concat(e.score.homeTeam,":").concat(e.score.awayTeam)}),Object(D.jsx)("td",{children:e.awayTeam.name}),Object(D.jsx)("td",{children:e.status})]},e.id)}))})]})},ue={getCompetitionCalendar:function(e,t,n){return function(){var c=Object(j.a)(o.a.mark((function c(a){var r,i;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C(e,t,n);case 2:r=c.sent,i=r.matches.map((function(e){return I()(e,["id","homeTeam","awayTeam","score","status","utcDate"])})).map((function(e){return Object(l.a)(Object(l.a)(Object(l.a)({},e),v(e.utcDate)),{},{score:y(e)})})),a(w(i,e));case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},cleanCompetitionCalendar:function(){return{type:p}}},me=Object(L.b)((function(e){return{status:G(e),list:V(e),currentCompetition:X(e)}}),ue)((function(e){var t=Object(W.h)(),n=t.id,a=t.dateFrom,r=t.dateTo,i=function(){var e=new Date,t=e.toLocaleDateString();e.setMonth(e.getMonth()-1);var n=e.toLocaleDateString();return{dateTo:t.split(".").reverse().join("-"),dateFrom:n.split(".").reverse().join("-")}}();a=a||i.dateFrom,r=r||i.dateTo;return Object(c.useEffect)((function(){return e.getCompetitionCalendar(n,a,r),function(){e.cleanCompetitionCalendar()}}),[n,a,r]),"fetching"===e.status?null:Object(D.jsxs)(_.a,{children:[Object(D.jsx)("h2",{className:"text-center py-4",children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0438\u0433\u0440"}),Object(D.jsxs)(H.a,{children:[Object(D.jsx)(q.a,{lg:"6",className:"mt-3",children:Object(D.jsx)(J.a,{className:"h-100",children:Object(D.jsx)(J.a.Body,{children:Object(D.jsxs)(H.a,{children:[Object(D.jsx)(q.a,{xs:"auto",children:Object(D.jsx)(J.a.Img,{src:e.currentCompetition.emblemUrl,style:{width:"100px"}})}),Object(D.jsxs)(q.a,{children:[Object(D.jsx)(J.a.Title,{children:e.currentCompetition.name}),Object(D.jsx)(J.a.Subtitle,{children:e.currentCompetition.area.name})]})]})})})}),Object(D.jsx)(q.a,{lg:"6",className:"mt-3",children:Object(D.jsx)(J.a,{className:"text-center className={'h-100'}",children:Object(D.jsxs)(J.a.Body,{children:[Object(D.jsx)(J.a.Title,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434"}),Object(D.jsx)(re,{dateFrom:a,dateTo:r,getRedirectPath:function(e,t){return"".concat(ie,"/").concat(n).concat(oe,"/").concat(e,"/").concat(t)}})]})})})]}),Object(D.jsx)(H.a,{className:"mt-3",children:Object(D.jsx)(q.a,{children:Object(D.jsx)(de,{list:e.list})})})]})}));var be,he=Object(L.b)((function(e){return{initialized:e.app.initialized}}),(function(e){return{initializingApp:function(){return e(E())}}}))((function(e){return Object(c.useEffect)((function(){e.initializingApp()}),[]),e.initialized?Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(P,{}),Object(D.jsxs)(W.d,{children:[Object(D.jsx)(W.b,{path:"/",exact:!0,render:function(){return Object(D.jsx)(W.a,{to:ie})}}),Object(D.jsx)(W.b,{path:ie,exact:!0,render:function(){return Object(D.jsx)(te,{})}}),Object(D.jsx)(W.b,{path:"".concat(ie,"/:id"),exact:!0,render:function(){return Object(D.jsx)(me,{})}}),Object(D.jsx)(W.b,{path:"".concat(ie,"/:id").concat(oe,"/:dateFrom/:dateTo"),exact:!0,render:function(){return Object(D.jsx)(me,{})}}),Object(D.jsx)(W.b,{path:se,exact:!0,render:function(){return Object(D.jsx)(ne,{})}}),Object(D.jsx)(W.b,{path:"".concat(se,"/:id"),exact:!0,render:function(){return Object(D.jsx)(je,{})}}),Object(D.jsx)(W.b,{path:"".concat(se,"/:id").concat(oe,"/:dateFrom/:dateTo"),exact:!0,render:function(){return Object(D.jsx)(je,{})}})]})]}):null})),Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},xe=n(29),pe=n(85),fe=n(19),Te=n(64),ge={initialized:!1,competitions:[],teams:[],teamCalendar:{status:"fetching",list:[],currentTeamId:null},competitionCalendar:{status:"fetching",list:[],currentCompetitionId:null}},Ce=(be={},Object(fe.a)(be,u,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{initialized:!0})})),Object(fe.a)(be,m,(function(e,t){var n=t.payload.competitions;return Object(l.a)(Object(l.a)({},e),{},{competitions:n})})),Object(fe.a)(be,b,(function(e,t){var n=t.payload.teams;return Object(l.a)(Object(l.a)({},e),{},{teams:n})})),Object(fe.a)(be,h,(function(e,t){var n=t.payload,c=n.matches,a=n.currentTeamId;return Object(l.a)(Object(l.a)({},e),{},{teamCalendar:Object(l.a)(Object(l.a)({},e.teamCalendar),{},{status:"received",list:Object(Te.a)(c),currentTeamId:a})})})),Object(fe.a)(be,O,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{teamCalendar:{status:"fetching",list:[],currentTeamId:null}})})),Object(fe.a)(be,x,(function(e,t){var n=t.payload,c=n.matches,a=n.currentCompetitionId;return Object(l.a)(Object(l.a)({},e),{},{competitionCalendar:{status:"received",list:Object(Te.a)(c),currentCompetitionId:a}})})),Object(fe.a)(be,p,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{competitionCalendar:{status:"fetching",list:[],currentCompetitionId:null}})})),be),ve=Object(xe.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return Ce[t.type]?Ce[t.type](e,t):e}}),ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.d,Ne=Object(xe.e)(ve,ye(Object(xe.a)(pe.a)));i.a.render(Object(D.jsx)(F.a,{children:Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(L.a,{store:Ne,children:Object(D.jsx)(he,{})})})}),document.getElementById("root")),Oe()},91:function(e,t,n){},92:function(e,t,n){}},[[181,1,2]]]);
//# sourceMappingURL=main.ebaa22b4.chunk.js.map